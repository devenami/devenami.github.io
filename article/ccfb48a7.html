<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.3/css/all.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css">

<script class="next-config" data-name="main" type="application/json">{&quot;hostname&quot;:&quot;devenzhou.github.io&quot;,&quot;root&quot;:&quot;&#x2F;&quot;,&quot;images&quot;:&quot;&#x2F;images&quot;,&quot;scheme&quot;:&quot;Gemini&quot;,&quot;version&quot;:&quot;8.3.0&quot;,&quot;exturl&quot;:false,&quot;sidebar&quot;:{&quot;position&quot;:&quot;left&quot;,&quot;display&quot;:&quot;post&quot;,&quot;padding&quot;:18,&quot;offset&quot;:12},&quot;copycode&quot;:true,&quot;bookmark&quot;:{&quot;enable&quot;:false,&quot;color&quot;:&quot;#222&quot;,&quot;save&quot;:&quot;auto&quot;},&quot;fancybox&quot;:false,&quot;mediumzoom&quot;:false,&quot;lazyload&quot;:false,&quot;pangu&quot;:false,&quot;comments&quot;:{&quot;style&quot;:&quot;tabs&quot;,&quot;active&quot;:null,&quot;storage&quot;:true,&quot;lazyload&quot;:false,&quot;nav&quot;:null},&quot;motion&quot;:{&quot;enable&quot;:true,&quot;async&quot;:false,&quot;transition&quot;:{&quot;post_block&quot;:&quot;fadeIn&quot;,&quot;post_header&quot;:&quot;fadeInDown&quot;,&quot;post_body&quot;:&quot;fadeInDown&quot;,&quot;coll_header&quot;:&quot;fadeInLeft&quot;,&quot;sidebar&quot;:&quot;fadeInUp&quot;}},&quot;prism&quot;:false,&quot;i18n&quot;:{&quot;placeholder&quot;:&quot;搜索...&quot;,&quot;empty&quot;:&quot;没有找到任何搜索结果：${query}&quot;,&quot;hits_time&quot;:&quot;找到 ${hits} 个搜索结果（用时 ${time} 毫秒）&quot;,&quot;hits&quot;:&quot;找到 ${hits} 个搜索结果&quot;}}</script>
<meta name="description" content="一、创建版本库1、本地仓库1、创建文件夹，使用该文件夹作为仓库根目录 1234$ mkdir repo #创建文件夹，名字为repo$ cd repo #进入repo目录$ pwd&#x2F;home&#x2F;power&#x2F;root">
<meta property="og:type" content="article">
<meta property="og:title" content="git使用文档">
<meta property="og:url" content="https://devenzhou.github.io/article/ccfb48a7.html">
<meta property="og:site_name" content="听风雨">
<meta property="og:description" content="一、创建版本库1、本地仓库1、创建文件夹，使用该文件夹作为仓库根目录 1234$ mkdir repo #创建文件夹，名字为repo$ cd repo #进入repo目录$ pwd&#x2F;home&#x2F;power&#x2F;root">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2021-04-23T11:56:53.000Z">
<meta property="article:modified_time" content="2021-04-23T12:00:54.779Z">
<meta property="article:author" content="Deven">
<meta property="article:tag" content="Git">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://devenzhou.github.io/article/ccfb48a7.html">



<script class="next-config" data-name="page" type="application/json">{&quot;sidebar&quot;:&quot;&quot;,&quot;isHome&quot;:false,&quot;isPost&quot;:true,&quot;lang&quot;:&quot;zh-CN&quot;,&quot;comments&quot;:true,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;devenzhou.github.io&#x2F;article&#x2F;ccfb48a7.html&quot;,&quot;path&quot;:&quot;article&#x2F;ccfb48a7.html&quot;,&quot;title&quot;:&quot;git使用文档&quot;}</script>

<script class="next-config" data-name="calendar" type="application/json">&quot;&quot;</script>
<title>git使用文档 | 听风雨</title><script src="/js/config.js"></script>
  




  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">听风雨</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu">
        <li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li>
        <li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签<span class="badge">22</span></a></li>
        <li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类<span class="badge">23</span></a></li>
        <li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档<span class="badge">53</span></a></li>
  </ul>
</nav>




</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B8%80%E3%80%81%E5%88%9B%E5%BB%BA%E7%89%88%E6%9C%AC%E5%BA%93"><span class="nav-number">1.</span> <span class="nav-text">一、创建版本库</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1%E3%80%81%E6%9C%AC%E5%9C%B0%E4%BB%93%E5%BA%93"><span class="nav-number">1.1.</span> <span class="nav-text">1、本地仓库</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2%E3%80%81%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93"><span class="nav-number">1.2.</span> <span class="nav-text">2、远程仓库</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BA%8C%E3%80%81%E6%8F%90%E4%BA%A4%E6%96%87%E4%BB%B6"><span class="nav-number">2.</span> <span class="nav-text">二、提交文件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B8%89%E3%80%81%E7%89%88%E6%9C%AC%E5%9B%9E%E9%80%80"><span class="nav-number">3.</span> <span class="nav-text">三、版本回退</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1%E3%80%81%E5%BF%AB%E7%85%A7%E3%80%81%E7%89%88%E6%9C%AC"><span class="nav-number">3.1.</span> <span class="nav-text">1、快照、版本</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2%E3%80%81%E6%9F%A5%E7%9C%8B%E6%8F%90%E4%BA%A4%E8%AE%B0%E5%BD%95"><span class="nav-number">3.2.</span> <span class="nav-text">2、查看提交记录</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3%E3%80%81%E5%9B%9E%E9%80%80%E7%89%88%E6%9C%AC"><span class="nav-number">3.3.</span> <span class="nav-text">3、回退版本</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4%E3%80%81%E6%9F%A5%E7%9C%8B%E5%BD%93%E5%89%8D%E6%96%87%E4%BB%B6%E7%8A%B6%E6%80%81"><span class="nav-number">3.4.</span> <span class="nav-text">4、查看当前文件状态</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5%E3%80%81%E6%96%87%E4%BB%B6%E4%B8%8E%E7%89%88%E6%9C%AC%E5%BA%93%E5%AF%B9%E6%AF%94"><span class="nav-number">3.5.</span> <span class="nav-text">5、文件与版本库对比</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#6%E3%80%81%E6%92%A4%E9%94%80%E4%BF%AE%E6%94%B9"><span class="nav-number">3.6.</span> <span class="nav-text">6、撤销修改</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7%E3%80%81%E5%88%A0%E9%99%A4%E6%96%87%E4%BB%B6"><span class="nav-number">3.7.</span> <span class="nav-text">7、删除文件</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9B%9B%E3%80%81%E5%88%86%E6%94%AF%E7%AE%A1%E7%90%86"><span class="nav-number">4.</span> <span class="nav-text">四、分支管理</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1%E3%80%81%E5%88%9B%E5%BB%BA%E5%88%86%E6%94%AF"><span class="nav-number">4.1.</span> <span class="nav-text">1、创建分支</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2%E3%80%81%E5%90%88%E5%B9%B6%E5%88%86%E6%94%AF"><span class="nav-number">4.2.</span> <span class="nav-text">2、合并分支</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3%E3%80%81%E5%88%A0%E9%99%A4%E5%88%86%E6%94%AF"><span class="nav-number">4.3.</span> <span class="nav-text">3、删除分支</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4%E3%80%81%E5%88%86%E6%94%AF%E7%AE%A1%E7%90%86%E7%AD%96%E7%95%A5"><span class="nav-number">4.4.</span> <span class="nav-text">4、分支管理策略</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5%E3%80%81%E9%9A%90%E8%97%8F%E5%B7%A5%E4%BD%9C%E7%BB%86%E8%8A%82"><span class="nav-number">4.5.</span> <span class="nav-text">5、隐藏工作细节</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#6%E3%80%81%E5%A4%9A%E4%BA%BA%E5%8D%8F%E4%BD%9C"><span class="nav-number">4.6.</span> <span class="nav-text">6、多人协作</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7%E3%80%81%E7%BE%8E%E5%8C%96%E6%8F%90%E4%BA%A4%E7%BA%BF"><span class="nav-number">4.7.</span> <span class="nav-text">7、美化提交线</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#8%E3%80%81%E5%88%9B%E5%BB%BA%E8%BF%9C%E7%A8%8B%E5%88%86%E6%94%AF"><span class="nav-number">4.8.</span> <span class="nav-text">8、创建远程分支</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#9%E3%80%81%E5%88%A0%E9%99%A4%E8%BF%9C%E7%A8%8B%E5%88%86%E6%94%AF"><span class="nav-number">4.9.</span> <span class="nav-text">9、删除远程分支</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BA%94%E3%80%81%E6%A0%87%E7%AD%BE%E7%AE%A1%E7%90%86"><span class="nav-number">5.</span> <span class="nav-text">五、标签管理</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1%E3%80%81%E5%88%9B%E5%BB%BA%E6%A0%87%E7%AD%BE"><span class="nav-number">5.1.</span> <span class="nav-text">1、创建标签</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2%E3%80%81%E6%93%8D%E4%BD%9C%E6%A0%87%E7%AD%BE"><span class="nav-number">5.2.</span> <span class="nav-text">2、操作标签</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%85%AD%E3%80%81%E8%87%AA%E5%AE%9A%E4%B9%89git"><span class="nav-number">6.</span> <span class="nav-text">六、自定义git</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1%E3%80%81%E5%BF%BD%E7%95%A5%E7%89%B9%E6%AE%8A%E6%96%87%E4%BB%B6"><span class="nav-number">6.1.</span> <span class="nav-text">1、忽略特殊文件</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2%E3%80%81%E9%85%8D%E7%BD%AE%E5%88%AB%E5%90%8D"><span class="nav-number">6.2.</span> <span class="nav-text">2、配置别名</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3%E3%80%81%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="nav-number">6.3.</span> <span class="nav-text">3、配置文件</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B8%83%E3%80%81%E5%91%BD%E4%BB%A4%E6%80%BB%E7%BB%93"><span class="nav-number">7.</span> <span class="nav-text">七、命令总结</span></a></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Deven"
      src="/images/avatar.jpeg">
  <p class="site-author-name" itemprop="name">Deven</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">53</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">23</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">22</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author site-overview-item animated">
      <span class="links-of-author-item">
        <a href="https://github.com/devenzhou" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;devenzhou" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
  </div>



        </div>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top" role="button" aria-label="返回顶部">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://devenzhou.github.io/article/ccfb48a7.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpeg">
      <meta itemprop="name" content="Deven">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="听风雨">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          git使用文档
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>
      

      <time title="创建时间：2021-04-23 19:56:53 / 修改时间：20:00:54" itemprop="dateCreated datePublished" datetime="2021-04-23T19:56:53+08:00">2021-04-23</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%B7%A5%E5%85%B7/" itemprop="url" rel="index"><span itemprop="name">工具</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%B7%A5%E5%85%B7/Git/" itemprop="url" rel="index"><span itemprop="name">Git</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <h3 id="一、创建版本库"><a href="#一、创建版本库" class="headerlink" title="一、创建版本库"></a>一、创建版本库</h3><h4 id="1、本地仓库"><a href="#1、本地仓库" class="headerlink" title="1、本地仓库"></a>1、本地仓库</h4><p>1、创建文件夹，使用该文件夹作为仓库根目录</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> mkdir repo <span class="comment">#创建文件夹，名字为repo</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">cd</span> repo <span class="comment">#进入repo目录</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">pwd</span></span></span><br><span class="line">/home/power/root</span><br></pre></td></tr></table></figure>

<span id="more"></span>

<p>2、通过<code>git init</code> 命令来初始化仓库</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git init</span></span><br><span class="line">Initialized empty Git repository in /home/power/root</span><br></pre></td></tr></table></figure>

<h4 id="2、远程仓库"><a href="#2、远程仓库" class="headerlink" title="2、远程仓库"></a>2、远程仓库</h4><p>1）查看远程仓库信息</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 查看关联的远程仓库的名称</span></span><br><span class="line">git remote</span><br><span class="line"><span class="meta">#</span><span class="bash"> 查看关联的远程仓库的详细信息</span></span><br><span class="line">git remote -v</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>添加远程仓库的关键</li>
</ol>
<p>远程仓库的名称一般默认为 origin ，当然，你可以设置为其他的名称。</p>
<p>通过 git clone 下载项目到本地时，项目文件夹中的 .git 目录就是版本库目录。</p>
<p>.git 目录中的 config 文件中有远程仓库的关联配置。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> git_url 为你的远程仓库的 url，可采用 http 协议或 ssh（git） 协议</span></span><br><span class="line">git remote add origin &lt;url&gt;</span><br></pre></td></tr></table></figure>

<p>3）删除远程仓库的关联</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote remove &lt;name&gt;</span><br></pre></td></tr></table></figure>

<p>4）修改远程仓库的关键</p>
<p>方式一：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote set-url origin &lt;newurl&gt;</span><br></pre></td></tr></table></figure>

<p>方式二： 先删除再添加</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 删除关联的远程仓库</span></span><br><span class="line">git remote remove &lt;name&gt;</span><br><span class="line"> </span><br><span class="line"><span class="meta">#</span><span class="bash"> 添加新的远程仓库关联</span></span><br><span class="line">git remote add &lt;name&gt; &lt;url&gt;</span><br></pre></td></tr></table></figure>

<p>方式三：直接修改<code>.git</code>目录下的<code>config</code>配置文件</p>
<h3 id="二、提交文件"><a href="#二、提交文件" class="headerlink" title="二、提交文件"></a>二、提交文件</h3><p>1、在 <code>/home/power/root</code> 下创建 <code>test.txt</code> 文件，并输入一些文字</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> touch test.txt	<span class="comment"># 创建test.txt文件</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> vi test.txt		<span class="comment"># 编辑test.txt文件，进入新窗口，按 i 进入插入模式，输入文本后按 ESC -&gt; :wq</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> cat test.txt		<span class="comment"># 查看test.txt内容</span></span></span><br><span class="line">this is a new file 	# 这里test.txt内部的文字，直接在控制台输出</span><br><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">pwd</span></span></span><br><span class="line">/home/power/root</span><br><span class="line"><span class="meta">$</span><span class="bash"> ls -a</span></span><br><span class="line">.git test.txt</span><br></pre></td></tr></table></figure>

<p>2、使用 <code>git add &lt;filename | . &gt;</code> 文件添加到本地仓库</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git add test.txt</span></span><br></pre></td></tr></table></figure>

<p>完成，没有任何的输出。</p>
<p><code>git add filename</code> ：将指定的文件添加到仓库</p>
<p><code>git add .</code>： <strong>.</strong> （点）用来代替当前文件及其子文件添加到仓库。</p>
<p>3、使用 <code>git commit -m &lt;message&gt;</code> 告诉 git 将使用 <code>git add </code> 命令添加的内容提交到仓库</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git commit -m <span class="string">&quot;添加了新文件&quot;</span></span></span><br><span class="line">[master ...]</span><br></pre></td></tr></table></figure>

<p><code>-m</code> 参数用于为本次提交添加评论，可以根据自己的情况添加更有意义的评论内容。</p>
<p><strong>注：</strong></p>
<p><code>git add</code> 可以使用多次，多次提交仅需要使用一次 <code>git commit</code> 就可完成提交</p>
<h3 id="三、版本回退"><a href="#三、版本回退" class="headerlink" title="三、版本回退"></a>三、版本回退</h3><h4 id="1、快照、版本"><a href="#1、快照、版本" class="headerlink" title="1、快照、版本"></a>1、快照、版本</h4><p>在 git 中，一次 <code>commit</code> 被称为一个快照(版本)，下面让我们多次修改文件并提交。</p>
<p>版本1：添加了新文件</p>
<figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">this</span> <span class="keyword">is</span> a <span class="keyword">new</span> file</span><br></pre></td></tr></table></figure>

<p>版本2：修改了文件</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">this</span> <span class="keyword">is</span> a update file</span><br></pre></td></tr></table></figure>

<p>版本3：再次修改了文件</p>
<figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">this</span> <span class="keyword">is</span> a file <span class="keyword">with</span> update</span><br></pre></td></tr></table></figure>

<h4 id="2、查看提交记录"><a href="#2、查看提交记录" class="headerlink" title="2、查看提交记录"></a>2、查看提交记录</h4><p>使用 <code>git log</code> 命令可以查看我们每次提交的ID、日期、提交人和评论。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git <span class="built_in">log</span></span></span><br><span class="line">commit ba26d28a0473efc9f4077aa4605057dd6c9248f2 (HEAD -&gt; master) # ID</span><br><span class="line">Author: unknown &lt;zhoutaotao@bojoy.net&gt;	#提交人</span><br><span class="line">Date:   Fri May 10 10:30:32 2019 +0800	# 提交时间</span><br><span class="line"></span><br><span class="line">    再次修改了文件	#提交时添加的评论 </span><br><span class="line"></span><br><span class="line">commit 22844da5053b6516b3e8a52d0972f23b6ad53254</span><br><span class="line">Author: unknown &lt;zhoutaotao@bojoy.net&gt;</span><br><span class="line">Date:   Fri May 10 10:30:01 2019 +0800</span><br><span class="line"></span><br><span class="line">    修改了文件</span><br><span class="line"></span><br><span class="line">commit d4adfa45270384a698c8aea37425a73234218ba6</span><br><span class="line">Author: unknown &lt;zhoutaotao@bojoy.net&gt;</span><br><span class="line">Date:   Fri May 10 10:21:56 2019 +0800</span><br><span class="line"></span><br><span class="line">    添加了新文件</span><br></pre></td></tr></table></figure>

<p>如果<code>git log</code> 命令执行后发现输出的内容过多，那么，我们可以通过添加 <code>--pretty=oneline</code> 来使得输出一行显示</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git <span class="built_in">log</span> --pretty=oneline</span></span><br><span class="line">ba26d28a0473efc9f4077aa4605057dd6c9248f2 (HEAD -&gt; master) 再次修改了文件</span><br><span class="line">22844da5053b6516b3e8a52d0972f23b6ad53254 修改了文件</span><br><span class="line">d4adfa45270384a698c8aea37425a73234218ba6 添加了新文件</span><br></pre></td></tr></table></figure>

<h4 id="3、回退版本"><a href="#3、回退版本" class="headerlink" title="3、回退版本"></a>3、回退版本</h4><p>在 git 中，用 <code>HEAD</code> 表示当前版本，也就是最新提交的ID为“ba26d28…”，上一个版本就是 <code>HEAD^</code>，上上个版本就是 <code>HEAD^^</code>，如果我们要会退到前100个版本，我们可以使用 <code>HEAD~100</code>。这种方式也进适用于最近的几个版本之间回退。</p>
<p><code>git reset</code>命令用来回退版本。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git reset --hard HEAD^</span></span><br><span class="line">HEAD is now at 22844da 修改了文件</span><br><span class="line"><span class="meta">$</span><span class="bash"> cat test.txt</span></span><br><span class="line">this is a update file	# 发现文件已经会退到第二版</span><br></pre></td></tr></table></figure>

<p>如果我们回退版本时发现自己回退错了版本，那怎么办？先让 <code>git log</code>命令看看日志变化</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git <span class="built_in">log</span> --pretty=oneline</span></span><br><span class="line">22844da5053b6516b3e8a52d0972f23b6ad53254 (HEAD -&gt; master) 修改了文件</span><br><span class="line">d4adfa45270384a698c8aea37425a73234218ba6 添加了新文件</span><br></pre></td></tr></table></figure>

<p>从日志中可以发现，第三版提交的记录居然不存在了，我们想要回到第三版怎么办？</p>
<p><code>git reset --hard &lt;id&gt;</code> 可以帮助我们会退到第三版，前提是我们并没有关闭当前的命令行，可以从控制台的日志中找到第三版的ID。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git reset --hard ba26d28</span></span><br><span class="line">HEAD is now at ba26d28 再次修改了文件</span><br><span class="line"><span class="meta">$</span><span class="bash"> cat test.txt</span></span><br><span class="line">this is a file with update #第三版的文件内容又回来了</span><br></pre></td></tr></table></figure>

<p>但是通过刚才的命令我们发现，第三版的ID是一长串内容，而我们只写了前几位，这样真的可以？答案是可以的。git 会通过给定的前几位去查找ID，如果查找的ID唯一，就正常执行命令。否则命令错误。</p>
<p>但是，如果我们关闭了当前控制台窗口，没办法在窗口中找到提交记录的ID怎么办？</p>
<p>总是会有办法的，我们可以使用 <code>git reflog</code> 查询到 git 指针的所有操作记录</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git reflog</span></span><br><span class="line">ba26d28 (HEAD -&gt; master) HEAD@&#123;0&#125;: reset: moving to ba26d28</span><br><span class="line">22844da HEAD@&#123;1&#125;: reset: moving to HEAD^</span><br><span class="line">ba26d28 (HEAD -&gt; master) HEAD@&#123;2&#125;: commit: 再次修改了文件</span><br><span class="line">22844da HEAD@&#123;3&#125;: commit: 修改了文件</span><br><span class="line">d4adfa4 HEAD@&#123;4&#125;: commit (initial): 添加了新文件</span><br></pre></td></tr></table></figure>

<p>这样，我们就可以找到指定的版本号了。</p>
<h4 id="4、查看当前文件状态"><a href="#4、查看当前文件状态" class="headerlink" title="4、查看当前文件状态"></a>4、查看当前文件状态</h4><p><code>git status</code>可以查看当前工作区文件的状态。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git status</span></span><br><span class="line">On branch master</span><br><span class="line">Changes not staged for commit:</span><br><span class="line">  (use &quot;git add &lt;file&gt;...&quot; to update what will be committed)</span><br><span class="line">  (use &quot;git checkout -- &lt;file&gt;...&quot; to discard changes in working directory)</span><br><span class="line"></span><br><span class="line">        modified:   test.txt</span><br><span class="line"></span><br><span class="line">no changes added to commit (use &quot;git add&quot; and/or &quot;git commit -a&quot;)</span><br></pre></td></tr></table></figure>

<h4 id="5、文件与版本库对比"><a href="#5、文件与版本库对比" class="headerlink" title="5、文件与版本库对比"></a>5、文件与版本库对比</h4><p><code>git diff &lt;id&gt; -- &lt;filename&gt;</code>可以查看指定文件与版本库之间的差异</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git diff d4adfa4 -- test.txt</span></span><br><span class="line">diff --git a/test.txt b/test.txt</span><br><span class="line">index 3b2aed8..d2a9c10 100644</span><br><span class="line">--- a/test.txt</span><br><span class="line">+++ b/test.txt</span><br><span class="line">@@ -1 +1 @@</span><br><span class="line">-this is a new file</span><br><span class="line">+this is a file with update</span><br></pre></td></tr></table></figure>

<h4 id="6、撤销修改"><a href="#6、撤销修改" class="headerlink" title="6、撤销修改"></a>6、撤销修改</h4><p><code>git checkout -- &lt;file&gt;</code>可以将指定文件回退到最近一次 <code>git add</code> 或 <code>git commit</code>状态</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git checkout -- test.txt</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git status</span></span><br><span class="line">On branch master</span><br><span class="line">nothing to commit, working tree clean</span><br></pre></td></tr></table></figure>

<p>如果我们已经通过 <code>git add</code> 将文件添加到缓存区，但还没有执行 <code>git commit</code> 命令，我们可以使用 <code>git reset HEAD &lt;file&gt;</code> 将缓存区的内容撤销掉，重新放入工作区。再次通过 <code>git checkout -- &lt;file&gt;</code> 将文件回退。</p>
<h4 id="7、删除文件"><a href="#7、删除文件" class="headerlink" title="7、删除文件"></a>7、删除文件</h4><p><code>git rm &lt;file&gt;</code> 用于删除一个文件。如果一个文件已经被提交到版本库，那么你永远不用担心误删，但是要小心，你只能恢复文件到最新版本，你会丢失<strong>最近一次提交后你修改的内容</strong>。</p>
<h3 id="四、分支管理"><a href="#四、分支管理" class="headerlink" title="四、分支管理"></a>四、分支管理</h3><h4 id="1、创建分支"><a href="#1、创建分支" class="headerlink" title="1、创建分支"></a>1、创建分支</h4><p>首先，我们创建<code>dev</code>分支，然后切换到<code>dev</code>分支：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git checkout -b dev</span></span><br><span class="line">Switched to a new branch &#x27;dev&#x27;</span><br></pre></td></tr></table></figure>

<p><code>git checkout</code>命令加上<code>-b</code>参数表示创建并切换，相当于以下两条命令：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git branch dev</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git checkout dev</span></span><br><span class="line">Switched to branch &#x27;dev&#x27;</span><br></pre></td></tr></table></figure>

<p>然后，用<code>git branch</code>命令查看当前分支：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git branch</span></span><br><span class="line">* dev</span><br><span class="line">  master</span><br></pre></td></tr></table></figure>

<p><code>git branch</code>命令会列出所有分支，当前分支前面会标一个<code>*</code>号。</p>
<p>我们可以在当前分支上工作，工作完成后通过 <code>git commit</code>进行提交</p>
<h4 id="2、合并分支"><a href="#2、合并分支" class="headerlink" title="2、合并分支"></a>2、合并分支</h4><p>现在，我们把<code>dev</code>分支的工作成果合并到<code>master</code>分支上：</p>
<figure class="highlight gams"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">$</span> git merge dev</span><br><span class="line"><span class="function"><span class="title">Updating</span></span> d46f35e..b17d20e</span><br><span class="line">Fast-forward</span><br><span class="line"> readme.txt | <span class="number">1</span> +</span><br><span class="line"> <span class="number">1</span> <span class="keyword">file</span> changed, <span class="number">1</span> insertion(+)</span><br></pre></td></tr></table></figure>

<p><code>git merge</code>命令用于合并指定分支到当前分支。合并后，再查看readme.txt的内容，就可以看到，和<code>dev</code>分支的最新提交是完全一样的。</p>
<p>注意到上面的<code>Fast-forward</code>信息，Git告诉我们，这次合并是“快进模式”，也就是直接把<code>master</code>指向<code>dev</code>的当前提交，所以合并速度非常快。</p>
<p>用带参数的<code>git log</code>也可以看到分支的合并情况：</p>
<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="keyword">log</span> <span class="comment">--graph --pretty=oneline --abbrev-commit</span></span><br><span class="line">*   cf810e4 (HEAD -&gt; master) <span class="keyword">conflict</span> fixed</span><br><span class="line">|\  </span><br><span class="line">| * <span class="number">14096</span>d0 (feature1) <span class="keyword">AND</span> simple</span><br><span class="line">* | <span class="number">5</span>dc6824 &amp; simple</span><br><span class="line">|/  </span><br></pre></td></tr></table></figure>

<h4 id="3、删除分支"><a href="#3、删除分支" class="headerlink" title="3、删除分支"></a>3、删除分支</h4><p>合并完成后，就可以放心地删除<code>dev</code>分支了：</p>
<figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="keyword">branch </span>-d dev</span><br><span class="line">Deleted <span class="keyword">branch </span>dev (was <span class="keyword">b17d20e).</span></span><br></pre></td></tr></table></figure>

<p>删除后，查看<code>branch</code>，就只剩下<code>master</code>分支了：</p>
<figure class="highlight gams"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">$</span> git branch</span><br><span class="line"><span class="comment">* master</span></span><br></pre></td></tr></table></figure>

<p>因为创建、合并和删除分支非常快，所以Git鼓励你使用分支完成某个任务，合并后再删掉分支，这和直接在<code>master</code>分支上工作效果是一样的，但过程更安全。</p>
<p><strong>注：</strong>如果要丢弃一个没有被合并过的分支，可以通过<code>git branch -D &lt;name&gt;</code>强行删除。</p>
<h4 id="4、分支管理策略"><a href="#4、分支管理策略" class="headerlink" title="4、分支管理策略"></a>4、分支管理策略</h4><p>通常，合并分支时，如果可能，Git会用<code>Fast forward</code>模式，但这种模式下，删除分支后，会丢掉分支信息。</p>
<p>如果要强制禁用<code>Fast forward</code>模式，Git就会在merge时生成一个新的commit，这样，从分支历史上就可以看出分支信息。</p>
<p>下面我们实战一下<code>--no-ff</code>方式的<code>git merge</code>：</p>
<p>首先，仍然创建并切换<code>dev</code>分支：</p>
<figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout -b dev</span><br><span class="line">Switched <span class="built_in">to</span> <span class="keyword">a</span> <span class="built_in">new</span> branch <span class="string">&#x27;dev&#x27;</span></span><br></pre></td></tr></table></figure>

<p>修改readme.txt文件，并提交一个新的commit：</p>
<figure class="highlight sas"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="meta">add</span> readme.txt </span><br><span class="line">$ git commit -m <span class="string">&quot;add merge&quot;</span></span><br><span class="line">[dev f52c633] <span class="meta">add</span> <span class="meta">merge</span></span><br><span class="line"> 1 <span class="meta">file</span> changed, 1 inserti<span class="meta">on(</span>+)</span><br></pre></td></tr></table></figure>

<p>现在，我们切换回<code>master</code>：</p>
<figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout <span class="literal">master</span></span><br><span class="line">Switched to branch &#x27;<span class="literal">master</span>&#x27;</span><br></pre></td></tr></table></figure>

<p>准备合并<code>dev</code>分支，请注意<code>--no-ff</code>参数，表示禁用<code>Fast forward</code>：</p>
<figure class="highlight sas"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="meta">merge</span> --no-ff -m <span class="string">&quot;merge with no-ff&quot;</span> dev</span><br><span class="line"><span class="meta">Merge</span> made <span class="meta">by</span> the <span class="string">&#x27;recursive&#x27;</span> strategy.</span><br><span class="line"> readme.txt | 1 +</span><br><span class="line"> 1 <span class="meta">file</span> changed, 1 inserti<span class="meta">on(</span>+)</span><br></pre></td></tr></table></figure>

<p>因为本次合并要创建一个新的commit，所以加上<code>-m</code>参数，把commit描述写进去。</p>
<p>合并后，我们用<code>git log</code>看看分支历史：</p>
<figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">log</span> <span class="comment">--graph --pretty=oneline --abbrev-commit</span></span><br><span class="line">*   e1e9c68 (HEAD -&gt; master) <span class="built_in">merge</span> <span class="keyword">with</span> no-ff</span><br><span class="line">|\  </span><br><span class="line">| * f52c633 (dev) <span class="built_in">add</span> <span class="built_in">merge</span></span><br><span class="line">|/  </span><br><span class="line">*   cf810e4 conflict fixed</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<p>在实际开发中，我们应该按照几个基本原则进行分支管理：</p>
<p>首先，<code>master</code>分支应该是非常稳定的，也就是仅用来发布新版本，平时不能在上面干活；</p>
<p>那在哪干活呢？干活都在<code>dev</code>分支上，也就是说，<code>dev</code>分支是不稳定的，到某个时候，比如1.0版本发布时，再把<code>dev</code>分支合并到<code>master</code>上，在<code>master</code>分支发布1.0版本；</p>
<p>你和你的小伙伴们每个人都在<code>dev</code>分支上干活，每个人都有自己的分支，时不时地往<code>dev</code>分支上合并就可以了。</p>
<h4 id="5、隐藏工作细节"><a href="#5、隐藏工作细节" class="headerlink" title="5、隐藏工作细节"></a>5、隐藏工作细节</h4><p><code>git stash</code> 可以把当前工作现场“储藏”起来，等以后恢复现场后继续工作</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git stash</span></span><br><span class="line">Saved working directory and index state WIP on dev: f52c633 add merge</span><br></pre></td></tr></table></figure>

<p>查看隐藏的工作空间</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git stash list</span></span><br><span class="line">stash@&#123;0&#125;: WIP on dev: f52c633 add merge</span><br></pre></td></tr></table></figure>

<p>工作现场还在，Git把stash内容存在某个地方了，但是需要恢复一下，有两个办法：</p>
<p>一是用<code>git stash apply</code>恢复，但是恢复后，stash内容并不删除，你需要用<code>git stash drop</code>来删除；</p>
<p>另一种方式是用<code>git stash pop</code>，恢复的同时把stash内容也删了：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git stash pop</span></span><br><span class="line">On branch dev</span><br><span class="line">Changes to be committed:</span><br><span class="line">  (use &quot;git reset HEAD &lt;file&gt;...&quot; to unstage)</span><br><span class="line"></span><br><span class="line">	new file:   hello.py</span><br><span class="line"></span><br><span class="line">Changes not staged for commit:</span><br><span class="line">  (use &quot;git add &lt;file&gt;...&quot; to update what will be committed)</span><br><span class="line">  (use &quot;git checkout -- &lt;file&gt;...&quot; to discard changes in working directory)</span><br><span class="line"></span><br><span class="line">	modified:   readme.txt</span><br><span class="line"></span><br><span class="line">Dropped refs/stash@&#123;0&#125; (5d677e2ee266f39ea296182fb2354265b91b3b2a)</span><br></pre></td></tr></table></figure>

<p>你可以多次stash，恢复的时候，先用<code>git stash list</code>查看，然后恢复指定的stash，用命令：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git stash apply stash@&#123;0&#125;</span></span><br></pre></td></tr></table></figure>

<h4 id="6、多人协作"><a href="#6、多人协作" class="headerlink" title="6、多人协作"></a>6、多人协作</h4><ol>
<li> 首先用<code>git clone &lt;path&gt;</code>拉取分支</li>
<li>查看远程库信息<code>git remote -v</code></li>
<li>试图用<code>git push origin &lt;branch-name&gt;</code>推送自己的修改；</li>
<li>如果推送失败，则因为远程分支比你的本地更新，需要先用<code>git pull</code>试图合并；</li>
<li>如果合并有冲突，则解决冲突，并在本地提交；</li>
<li>没有冲突或者解决掉冲突后，再用<code>git push origin &lt;branch-name&gt;</code>推送就能成功！</li>
</ol>
<p>如果<code>git pull</code>提示<code>no tracking information</code>，则说明本地分支和远程分支的链接关系没有创建，用命令<code>git branch --set-upstream-to &lt;branch-name&gt; origin/&lt;branch-name&gt;</code>。</p>
<h4 id="7、美化提交线"><a href="#7、美化提交线" class="headerlink" title="7、美化提交线"></a>7、美化提交线</h4><ul>
<li>rebase操作可以把本地未push的分叉提交历史整理成直线；</li>
<li>rebase的目的是使得我们在查看历史提交的变化时更容易，因为分叉的提交需要三方对比。</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git rebase</span></span><br></pre></td></tr></table></figure>

<h4 id="8、创建远程分支"><a href="#8、创建远程分支" class="headerlink" title="8、创建远程分支"></a>8、创建远程分支</h4><ol>
<li>新建本地分支</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout -b dev</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>将本地分支推送到远程</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push origin dev:dev</span><br></pre></td></tr></table></figure>

<p>前一个dev是本地分支的名称，后一个dev是远程分支的名称</p>
<h4 id="9、删除远程分支"><a href="#9、删除远程分支" class="headerlink" title="9、删除远程分支"></a>9、删除远程分支</h4><p>方式一： 直接推送一个空分支到远程分支，相当于删除远程分支</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push origin :dev</span><br></pre></td></tr></table></figure>

<p>方式二：指定<code>--delete</code>参数</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push origin --delete dev</span><br></pre></td></tr></table></figure>



<h3 id="五、标签管理"><a href="#五、标签管理" class="headerlink" title="五、标签管理"></a>五、标签管理</h3><p>发布一个版本时，我们通常先在版本库中打一个标签（tag），这样，就唯一确定了打标签时刻的版本。将来无论什么时候，取某个标签的版本，就是把那个打标签的时刻的历史版本取出来。所以，标签也是版本库的一个快照。</p>
<p>Git的标签虽然是版本库的快照，但其实它就是指向某个commit的指针（跟分支很像对不对？但是分支可以移动，标签不能移动），所以，创建和删除标签都是瞬间完成的。</p>
<p>tag就是一个让人容易记住的有意义的名字，它跟某个commit绑在一起。</p>
<h4 id="1、创建标签"><a href="#1、创建标签" class="headerlink" title="1、创建标签"></a>1、创建标签</h4><ul>
<li>命令<code>git tag &lt;tagname&gt;</code>用于新建一个标签，默认为<code>HEAD</code>，也可以指定一个commit id；</li>
<li>命令<code>git tag -a &lt;tagname&gt; -m &quot;blablabla...&quot;</code>可以指定标签信息；</li>
<li>命令<code>git tag</code>可以查看所有标签。</li>
</ul>
<h4 id="2、操作标签"><a href="#2、操作标签" class="headerlink" title="2、操作标签"></a>2、操作标签</h4><ul>
<li>命令<code>git push origin &lt;tagname&gt;</code>可以推送一个本地标签；</li>
<li>命令<code>git push origin --tags</code>可以推送全部未推送过的本地标签；</li>
<li>命令<code>git tag -d &lt;tagname&gt;</code>可以删除一个本地标签；</li>
<li>命令<code>git push origin :refs/tags/&lt;tagname&gt;</code>可以删除一个远程标签。</li>
</ul>
<h3 id="六、自定义git"><a href="#六、自定义git" class="headerlink" title="六、自定义git"></a>六、自定义git</h3><ul>
<li>配置邮箱：<code>git config --global user.email &lt;mail&gt;</code></li>
<li>配置用户名：<code>git config --global user.name &lt;name&gt;</code></li>
<li>配置控制台颜色：<code>git config --global color.ui true</code></li>
</ul>
<h4 id="1、忽略特殊文件"><a href="#1、忽略特殊文件" class="headerlink" title="1、忽略特殊文件"></a>1、忽略特殊文件</h4><ul>
<li>忽略某些文件时，需要编写<code>.gitignore</code>；</li>
<li><code>.gitignore</code>文件本身要放到版本库里，并且可以对<code>.gitignore</code>做版本管理！</li>
<li><code>git add -f &lt;file&gt;</code> 强制添加文件</li>
<li><code>git check-ignore -v &lt;file&gt;</code> 检查配置文件错误，git会提示配置文件中的那条规则把指定文件排除了。</li>
</ul>
<h4 id="2、配置别名"><a href="#2、配置别名" class="headerlink" title="2、配置别名"></a>2、配置别名</h4><p><code>git config --global alias.别名 命令</code>可以为命令配置别名。</p>
<p><code>--global</code>参数是全局参数，也就是这些命令在这台电脑的所有Git仓库下都有用。</p>
<h4 id="3、配置文件"><a href="#3、配置文件" class="headerlink" title="3、配置文件"></a>3、配置文件</h4><p>配置Git的时候，加上<code>--global</code>是针对当前用户起作用的，如果不加，那只针对当前的仓库起作用。</p>
<p>配置文件放哪了？每个仓库的Git配置文件都放在<code>.git/config</code>文件中：</p>
<figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$ </span>cat .git/config </span><br><span class="line">[core]</span><br><span class="line">    repositoryformatversion = 0</span><br><span class="line">    filemode = <span class="keyword">true</span></span><br><span class="line">    bare = <span class="keyword">false</span></span><br><span class="line">    logallrefupdates = <span class="keyword">true</span></span><br><span class="line">    ignorecase = <span class="keyword">true</span></span><br><span class="line">    precomposeunicode = <span class="keyword">true</span></span><br><span class="line">[remote <span class="string">&quot;origin&quot;</span>]</span><br><span class="line">    url = git<span class="variable">@github</span>.<span class="symbol">com:</span>michaelliao/learngit.git</span><br><span class="line">    fetch = +refs/heads/*<span class="symbol">:refs/remotes/origin/*</span></span><br><span class="line">[branch <span class="string">&quot;master&quot;</span>]</span><br><span class="line">    remote = origin</span><br><span class="line">    merge = refs/heads/master</span><br><span class="line">[<span class="keyword">alias</span>]</span><br><span class="line">    last = log <span class="number">-1</span></span><br></pre></td></tr></table></figure>

<p>别名就在<code>[alias]</code>后面，要删除别名，直接把对应的行删掉即可。</p>
<p>而当前用户的Git配置文件放在用户主目录下的一个隐藏文件<code>.gitconfig</code>中：</p>
<figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$ cat .gitconfig</span><br><span class="line">[alias]</span><br><span class="line">    <span class="attr">co</span> = checkout</span><br><span class="line">    <span class="attr">ci</span> = commit</span><br><span class="line">    <span class="attr">br</span> = branch</span><br><span class="line">    <span class="attr">st</span> = status</span><br><span class="line">[user]</span><br><span class="line">    <span class="attr">name</span> = Your Name</span><br><span class="line">    <span class="attr">email</span> = your@email.com</span><br></pre></td></tr></table></figure>

<p>配置别名也可以直接修改这个文件，如果改错了，可以删掉文件重新通过命令配置。</p>
<h3 id="七、命令总结"><a href="#七、命令总结" class="headerlink" title="七、命令总结"></a>七、命令总结</h3><table>
<thead>
<tr>
<th>命令</th>
<th>解释</th>
</tr>
</thead>
<tbody><tr>
<td><code>git init</code></td>
<td>初始化仓库</td>
</tr>
<tr>
<td><code>git add &lt;file&gt;</code></td>
<td>添加文件到临时区</td>
</tr>
<tr>
<td><code>git add -f &lt;file&gt;</code></td>
<td>强制添加文件到临时区</td>
</tr>
<tr>
<td><code>git commit -m &lt;msg&gt;</code></td>
<td>提交文件到分支</td>
</tr>
<tr>
<td><code>git reset --hard commit_id</code></td>
<td>恢复文件到指定版本</td>
</tr>
<tr>
<td><code>git log --graph --pretty=oneline --abbrev-commit</code></td>
<td>单行显示提交历史信息</td>
</tr>
<tr>
<td><code>git reflog</code></td>
<td>查看命令历史</td>
</tr>
<tr>
<td><code>git status</code></td>
<td>查看工作区状态</td>
</tr>
<tr>
<td><code>git rm &lt;file&gt;</code></td>
<td>删除指定文件</td>
</tr>
<tr>
<td><code>git branch</code></td>
<td>查看所有分支</td>
</tr>
<tr>
<td><code>git branch &lt;name&gt;</code></td>
<td>创建分支</td>
</tr>
<tr>
<td><code>git checkout &lt;name&gt;</code></td>
<td>切换分支</td>
</tr>
<tr>
<td><code>git checkout -b &lt;name&gt;</code></td>
<td>创建 + 切换分支</td>
</tr>
<tr>
<td><code>git merge &lt;name&gt;</code></td>
<td>合并分支</td>
</tr>
<tr>
<td><code>git merge --no-ff -m &lt;msg&gt;</code></td>
<td>禁用快速合并并添加标签，分支历史看以看到分支信息</td>
</tr>
<tr>
<td><code>git branch -d &lt;name&gt;</code></td>
<td>删除分支</td>
</tr>
<tr>
<td><code>git branch -D &lt;name&gt;</code></td>
<td>强制删除分支</td>
</tr>
<tr>
<td><code>git stash</code></td>
<td>保存工作现场并隐藏</td>
</tr>
<tr>
<td><code>git stash list</code></td>
<td>查看隐藏的工作现场</td>
</tr>
<tr>
<td><code>git stash apply</code></td>
<td>恢复工作现场，stash内容不删除</td>
</tr>
<tr>
<td><code>git stash apply &lt;stash@&#123;0&#125;&gt;</code></td>
<td>恢复到指定的工作现场，stash内容不删除</td>
</tr>
<tr>
<td><code>git stash drop</code></td>
<td>删除工作现场</td>
</tr>
<tr>
<td><code>git stash pop</code></td>
<td>恢复工作现场，并删除stash内容</td>
</tr>
<tr>
<td><code>git stash pop &lt;stash@&#123;0&#125;&gt;</code></td>
<td>恢复到指定的工作现场，并删除stash内容</td>
</tr>
<tr>
<td><code>git remote -v</code></td>
<td>查看远程库信息</td>
</tr>
<tr>
<td><code>git push origin master</code></td>
<td>将master分支推送到远程库</td>
</tr>
<tr>
<td><code>git clone &lt;path&gt;</code></td>
<td>从远程库克隆信息</td>
</tr>
<tr>
<td><code>git pull &lt;remote&gt; &lt;branch&gt;</code></td>
<td>抓取远程的新提交</td>
</tr>
<tr>
<td><code>git checkout -b branch-name origin/branch-name</code></td>
<td>在本地床架和远程分支对应的分支，本地和远程分支的名称最好保持一致</td>
</tr>
<tr>
<td><code>git branch --set-upstream branch-name origin/branch-name</code></td>
<td>建立本地分支和远程分支的关联</td>
</tr>
<tr>
<td><code>git rebase</code></td>
<td>合并分支提交线</td>
</tr>
<tr>
<td><code>git tab &lt;tagname&gt; -m &lt;msg&gt; &lt;commit-id&gt;</code></td>
<td>新建标签，默认为 HEAD，也可以指定一个 commit-id</td>
</tr>
<tr>
<td><code>git tag</code></td>
<td>查看所有标签</td>
</tr>
<tr>
<td><code>git show &lt;tagname&gt;</code></td>
<td>查看标签信息</td>
</tr>
<tr>
<td><code>git tag -d &lt;tagname&gt;</code></td>
<td>删除标签</td>
</tr>
<tr>
<td><code>git push origin &lt;tagname&gt;</code></td>
<td>推送标签到远程</td>
</tr>
<tr>
<td><code>git push origin --tags</code></td>
<td>一次性推送所有未推送的标签到远程</td>
</tr>
<tr>
<td><code>git push origin :refs/tags/&lt;tagname&gt;</code></td>
<td>删除远程标签，需要先删除本地标签</td>
</tr>
<tr>
<td><code>git config --global user.email &lt;mail&gt;</code></td>
<td>配置全局邮箱</td>
</tr>
<tr>
<td><code>git config --global user.name &lt;name&gt;</code></td>
<td>配置全局用户名</td>
</tr>
<tr>
<td><code>git config --global color.ui true</code></td>
<td>显示控制台颜色</td>
</tr>
<tr>
<td><code>git config alias.&lt;aliasname&gt; &lt;commend&gt;</code></td>
<td>为commend配置别名为aliasname，复合命令要使用单引号包裹</td>
</tr>
<tr>
<td><code>git check-ignore -v &lt;file&gt;</code></td>
<td>检查配置文件错误</td>
</tr>
</tbody></table>

    </div>

    
    
    

    <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/Git/" rel="tag"><i class="fa fa-tag"></i> Git</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/article/869e1239.html" rel="prev" title="docker build配置代理">
                  <i class="fa fa-chevron-left"></i> docker build配置代理
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/article/d2fb4350.html" rel="next" title="git文件名大小写问题">
                  git文件名大小写问题 <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>





<script src="/js/comments.js"></script>
</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="angellist"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Deven</span>
</div><script color="0,0,255" opacity="0.5" zIndex="-1" count="99" src="/lib/canvas-nest/canvas-nest.min.js"></script>

    </div>
  </footer>

  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js"></script>
<script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script>

  






  





</body>
</html>
